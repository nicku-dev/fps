<?xml version='1.0' encoding='utf-8'?>
<odoo>
    <record id="freight_order_tree_view" model="ir.ui.view">
        <field name="name">Freight Order</field>
        <field name="model">freight.order</field>
        <field name="arch" type="xml">
            <tree>
                <field name="name" string="FO Number"/>
                <field name="vehicle_id" string="Kapal"/>
                <!-- <field name="shippment_type"/> -->
                <field name="koordinator_kapal_id" string="Koordinator Kapal"/>
                <field name="shipper_id"/>
                <field name="departure_time"/>
                <field name="arrival_time"/>
                <field name="state" 
                    decoration-success="state == 'done'"
                    decoration-info="state == 'submit'"
                    decoration-warning="state == 'cancel'"
                    optional="show" readonly="1" widget="badge"/>
            </tree>
        </field>
    </record>

    <!-- <record id="view_freight_order_filter" model="ir.ui.view">
        <field name="name">freight.order.search</field>
        <field name="model">freight.order</field>
        <field name="arch" type="xml">
            <search>
                <filter string="Agent" name="Agent" domain="[('agent_id','=',False)]"/>
            </search>
            </field>
    </record> -->

    <record id="freight_order_form_view" model="ir.ui.view">
        <field name="name">Freight Order</field>
        <field name="model">freight.order</field>
        <field name="arch" type="xml">
                <form>
                    <header>
                        <!-- <button name="create_custom_clearance" string="Custom Clearance" type="object" class="oe_highlight"
                                data-hotkey="w" attrs="{'invisible': [('clearance', '=', True)]}"/> -->
                        <button name="action_submit" string="Submit" type="object" class="oe_highlight"
                                data-hotkey="w" states="draft"/>
                        <button name="action_confirm" string="Confirm" type="object" class="oe_highlight"
                                data-hotkey="w" states="submit"/>
                        <!-- <button name="create_invoice" string="Invoice" type="object" class="oe_highlight" states="confirm"
                                data-hotkey="w"/> -->
                        <button name="track_order" string="Tracking" type="object" class="oe_highlight" states="confirm,invoice"
                                data-hotkey="w"/>
                        <button name="action_done" string="Done" type="object" class="oe_highlight" states="confirm,invoice"
                                data-hotkey="w"/>
                        <button name="action_cancel" string="Cancel" type="object" states="draft,submit,confirm,invoice"
                                data-hotkey="w"/>
                        <field name="state" widget="statusbar" statusbar_visible="draft,submit,confirm" readonly="1"/>
                    </header>
                    <sheet>
                        <div class="oe_button_box" name="button_box">
                            <button class="oe_stat_button" type="object" name="get_invoice"
                                icon="fa-pencil-square-o">
                                <field string="Invoice" name="invoice_count" widget="statinfo"/>
                            </button>
                            <button class="oe_stat_button" type="object" name="get_so_related"
                                icon="fa-pencil-square-o">
                                <field string="Sales Order" name="so_count" widget="statinfo"/>
                            </button>                            
                        </div>
                        <div class="oe_title">
                            <h1 class="mt0" >
                                <field name="name"/>
                            </h1>
                        </div>
                        <group>
                            <group>
                                <field name="shippment_type"/>
                                <field name="shipper_id"/>
                                <field name="vehicle_id"/>
                                <field name="order_date" string="Order Kapal"/>
                                <field name="departure_time"/>
                                <field name="arrival_time"/>
                                <field name="koordinator_kapal_id" string="Koordinator Kapal"/>
                                <field name="fo_region_id" string="Region"/>
                            </group>
                            <group>
                                <field name="create_date"/>
                                <field name="agent_id"/>
                                <field name="consignee_id"/>
                                <field name="expected_date"/>
                            </group>
                        </group>
                        <notebook>
                            <!-- <page name="carriage_tab" string="Carriage Tab">
                                <field name="sol_ids" mode="tree" readonly="1" domain="[('product_id', '=', product_id)]"/>
                            </page> -->

                            <page string="Routes">
                                <field name="route_ids">
                                    <tree string="Routes" editable="bottom">
                                        <field name="route_code"/>
                                        <field name="name"/>
                                        <field name="region"/>
                                        <field name="source_loc"/>
                                        <field name="destination_loc"/>
                                    </tree>
                                </field>
                            </page>

                            <page string="Track">
                                <field name="track_ids">
                                    <tree string="Services" editable="bottom" create="0">
                                        <field name="source_loc"/>
                                        <field name="destination_loc"/>
                                        <field name="date"/>
                                    </tree>
                                </field>
                            </page>
                        </notebook>
                    </sheet>
                </form>
        </field>
    </record>

    <record id="action_freight_order" model="ir.actions.act_window">
        <field name="name">Freight Order</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">freight.order</field>
        <field name="view_mode">tree,form</field>
        <field name="help" type="html">
            <p class="o_view_nocontent_smiling_face">
            Define a new freight order
            </p>
        </field>

    </record>
</odoo>